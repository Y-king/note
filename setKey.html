<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
<script type="text/javascript">
function get(obj,keys){
	// obj = 
	obj.key = 2
	return obj
	var keys = keys.split('.')
	var res = undefined
	var i = 0,len = keys.length
	for(i; i<len; i++){
		var key = keys[i]
		if(i == 0){
			if(obj[key]){
				res = obj[key]
			}else{
				return res
			}
		}else{
			if(res[key]){
				res = res[key]
			}else{
				return res
			}
		}
	}
	return res
}
function set(obj,keys,data){
	var keys = keys.split('.')
	keys.forEach(function(key,index){
		// if(!Number.isNaN(parseInt(key))){
		// 	key = parseInt(key)
		// }
		if(index ==keys.length-1){
			obj[key] = data
			return
		}
		var nextKey = keys[index+1]
		if(!Number.isNaN(parseInt(nextKey))){
			nextKey = parseInt(nextKey)
		}
		if(obj[key]){
			obj = obj[key]
		}else{
			if(typeof nextKey == 'number'){
				obj[key] = []
			}else{
				obj[key] = {}
			}
			obj=obj[key]
		}
	})
}
// var data = {
// 	value:{
// 		key:1
// 	}
// }
// console.log(get(data,'value.key'))
// console.log(data)

var data = {data:[]}
console.log(JSON.stringify(data))
set(data,'data.0.include',{'name':'alpha','color':'black'})
console.log(JSON.stringify(data))
</script>
</body>
</html>
